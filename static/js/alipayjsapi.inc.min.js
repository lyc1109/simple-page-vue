!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(){return void 0!==L?function(){L(o)}:r()}function r(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<M;e+=2)(0,q[e])(q[e+1]),q[e]=void 0,q[e+1]=void 0;M=0}function a(e,t){var n=arguments,r=this,o=new this.constructor(u);void 0===o[J]&&C(o);var a=r._state;return a?function(){var e=n[a-1];O(function(){return P(a,o,e,r._result)})}():b(r,o,e,t),o}function i(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(u);return m(n,e),n}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function l(e){try{return e.then}catch(e){return Q.error=e,Q}}function d(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function f(e,t,n){O(function(e){var r=!1,o=d(n,t,function(n){r||(r=!0,t!==n?m(e,n):g(e,n))},function(t){r||(r=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,y(e,o))},e)}function p(e,t){t._state===$?g(e,t._result):t._state===W?y(e,t._result):b(t,void 0,function(t){return m(e,t)},function(t){return y(e,t)})}function h(e,n,r){n.constructor===e.constructor&&r===a&&n.constructor.resolve===i?p(e,n):r===Q?(y(e,Q.error),Q.error=null):void 0===r?g(e,n):t(r)?f(e,n,r):g(e,n)}function m(t,n){t===n?y(t,c()):e(n)?h(t,n,l(n)):g(t,n)}function v(e){e._onerror&&e._onerror(e._result),_(e)}function g(e,t){e._state===K&&(e._result=t,e._state=$,0!==e._subscribers.length&&O(_,e))}function y(e,t){e._state===K&&(e._state=W,e._result=t,O(v,e))}function b(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+$]=n,o[a+W]=r,0===a&&e._state&&O(_,e)}function _(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?P(n,r,o,a):o(a);e._subscribers.length=0}}function w(){this.error=null}function S(e,t){try{return e(t)}catch(e){return G.error=e,G}}function P(e,n,r,o){var a=t(r),i=void 0,u=void 0,c=void 0,l=void 0;if(a){if((i=S(r,o))===G?(l=!0,u=i.error,i.error=null):c=!0,n===i)return void y(n,s())}else i=o,c=!0;n._state!==K||(a&&c?m(n,i):l?y(n,u):e===$?g(n,i):e===W&&y(n,i))}function A(e,t){try{t(function(t){m(e,t)},function(t){y(e,t)})}catch(t){y(e,t)}}function B(){return Y++}function C(e){e[J]=Y++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[J]||C(this.promise),x(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?g(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&g(this.promise,this._result))):y(this.promise,k())}function k(){return new Error("Array Methods must be provided an Array")}function T(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function E(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(e){this[J]=B(),this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&T(),this instanceof I?A(this,e):E())}var R=void 0,x=R=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},M=0,L=void 0,N=void 0,O=function(e,t){q[M]=e,q[M+1]=t,2===(M+=2)&&(N?N(o):H())},F="undefined"!=typeof window?window:void 0,U=F||{},V=U.MutationObserver||U.WebKitMutationObserver,z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),j="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,q=new Array(1e3),H=void 0;H=z?function(){return process.nextTick(o)}:V?function(){var e=0,t=new V(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():j?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===F&&"function"==typeof require?function(){try{var e=require("vertx");return L=e.runOnLoop||e.runOnContext,n()}catch(e){return r()}}():r();var J=Math.random().toString(36).substring(16),K=void 0,$=1,W=2,Q=new w,G=new w,Y=0;return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===K&&n<e;n++)this._eachEntry(t[n],n)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===i){var o=l(e);if(o===a&&e._state!==K)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===I){var c=new n(u);h(c,e,o),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},D.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===K&&(this._remaining--,e===W?y(r,n):this._result[t]=n),0===this._remaining&&g(r,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;b(e,void 0,function(e){return n._settledAt($,t,e)},function(e){return n._settledAt(W,t,e)})},I.all=function(e){return new D(this,e).promise},I.race=function(e){var t=this;return new t(x(e)?function(n,r){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},I.resolve=i,I.reject=function(e){var t=new this(u);return y(t,e),t},I._setScheduler=function(e){N=e},I._setAsap=function(e){O=e},I._asap=O,I.prototype={constructor:I,then:a,catch:function(e){return this.then(null,e)}},I.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=I},I.Promise=I,I.polyfill(),I}),function(e){"use strict";function t(){return(re=re||e[ne])&&re.call}function n(e){return/\w+Sync$/.test(e)}function r(){return(e&&e.location&&e.location.href?e.location.href:"").replace(/^(http|https):\/\//i,"").split("/")[0]}function o(e,t){setTimeout(function(){e(t)},1)}function a(e){return/^[a-z0-9|]+$/i.test(e)}function i(e,t){var n=!1;return t=t||"data",M(e,"_")?(e[t]=e._,delete e._):(L(e,function(e){e!==t&&(n=!0)}),n&&(n=e,(e={})[t]=n)),e}function u(e,t,n){var r,o=!1;return z(e)||(ie.EVENTS||(ie.EVENTS={}),ie.EVENTS[e]||(ie.EVENTS[e]={callbacks:[]}),ie.EVENTS[e].callbacks||(ie.EVENTS[e].callbacks=[]),ie.EVENTS[e].callbacks.forEach(function(e,n){e.cb===t&&(o=e,r=n)}),n&&W(r)&&ie.EVENTS[e].callbacks.splice(r,1)),o}function c(e,t,n,r){u(e,t)||ie.EVENTS[e].callbacks.push({cb:t,_cb:n,_cbSFC:r})}function s(e,t){var n=u(e,t,!0);J(t)?n&&ce.off(e,n._cb):(ie.EVENTS[e].callbacks.forEach(function(t){ce.off(e,t._cb)}),ie.EVENTS[e].callbacks=[])}function l(e){return f("on",e)}function d(e){return f("off",e)}function f(e,t){var n=ue[t],r=!1,o="off"===e?/^off([A-Z])(\w+)/:/^on([A-Z])(\w+)/;return n&&o.test(t)&&(t=t.match(o),!(r=n.m)&&t[1]&&t[2]&&(r=O(t[1])+t[2])),r}function p(e,t){var n=ue[e]||{};return(n.e||n.extra||{})[t]}function h(e){var t=ue[e];return t&&t.m?t.m:e}function m(e,t,n){var r=ue[e],o=r&&r.b?r.b(ee({},t),n):t,a=p(e,"optionModifier");if(J(a)){var i=a(o,n);$(i)&&(o=i)}return o}function v(e,t){var n={};return t=t||{},J(t.success)&&(n.success=t.success,delete t.success),J(t.fail)&&(n.fail=t.fail,delete t.fail),J(t.complete)&&(n.complete=t.complete,delete t.complete),n}function g(e){var t=ue[e];return!(!t||!t.d)&&t.d}function y(e,t,n,r,o){var a=ue[e],i=a&&a.a?a.a(Y(t)?t:ee({},t),n,r,o):ee({},t),u=p(e,"resultModifier");if(J(u)){var c=u(i,n,r,o);$(c)&&(i=c)}return i}function b(e,t){return M(t,"error")&&(t.error=parseInt(t.error,10)),!1!==p(e,"handleResultSuccess")&&_(t),0===t.error&&(delete t.error,delete t.errorMessage),t.error>0&&t.error<10&&console.error(e,t),t}function _(e,t,n){return n=!z(n)&&n,M(e,"error")||e.success!==n||(e.error=W(t)?t:2),delete e.success,e}function w(e){var t={};return z(e.data)||(t=$(t=e.data)?t:{data:t}),t}function S(e){var t=(e||"").match(/(\w+)(%\w)$/i),n={k:e};return t&&(n.k=t[1],n.t=t[2]),n}function P(e,t){return"%s"===e&&(t=k(t)),"%c"===e&&(t=T(t)),"%b"===e&&(t=I(t)),"%d"===e&&(t=parseInt(t,10)),"%f"===e&&(t=parseFloat(t)),t}function A(e,t,n){var r;return n=n||{},L(t,function(o,a){!z(a=(r=S(t[o])).k)&&(M(e,o)||M(n,o))&&z(e[a])&&(e[a]=P(r.t,z(n[o])?e[o]:n[o]),a!==o&&delete e[o])}),e}function B(){var e,t,n,r,o,a;ce.debug&&(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],o=arguments.length<=4?void 0:arguments[4],a=[arguments.length>3?"RETURN>":"INVOKE>",e,M(t,"_")?t._:t,n],arguments.length>3&&a.push(r),arguments.length>4&&a.push(o),console.info(a))}function C(e){return e.test(oe)}function D(){if(void 0===te){var t=!1,n=e.Promise;if(n){var r=null,o=null;try{o=(r=n.resolve()).then}catch(e){}r instanceof n&&J(o)&&!n.cast&&(t=!0)}t||console.warn("当前浏览器不支持 Promise，你仍然可以通过回调方式使用 AlipayJSAPI。"),te=t}return te}function k(e){var t=e;if($(e)||Q(e))try{t=JSON.stringify(e)}catch(e){}else t=e+"";return t}function T(e){var t=""+e;return 0===t.indexOf("#")&&(t=t.substr(1)),3===t.length&&(t=t.replace(/(.)/g,"$1$1")),t=parseInt(t,16),q(t)&&console.error(e+" is invalid hex color."),t}function E(e,t){return e&&t&&(e="data:"+t+";base64,"+e),e}function I(e){return K(e)&&(e=e.replace(/^data:(\/|\w|\-|\.)+;base64,/i,"")),e}function R(e){var t=[];return L(e,function(e,n){t.push(e+"="+encodeURIComponent(z(n)?"":n))}),t=t.join("&")}function x(e,t){var n=t;return $(t)&&(n=R(t)),/\?/.test(e)?/&$/.test(e)||/\?$/.test(e)||(n="&"+n):n="?"+n,e+n}function M(e,t){return!(!$(e)&&!Q(e))&&e.hasOwnProperty(t)}function L(e,t){var n,r;if(G(e)){for(n=0;n<e.length;n++)if(!1===t(n,e[n]))return e}else for(r in e)if(!1===t(r,e[r]))return e;return e}function N(e){try{e=JSON.parse(e)}catch(t){console.warn(t,e)}return e}function O(e){return K(e)&&(e=e.toLowerCase()),e}function F(e){return K(e)&&(e=e.toUpperCase()),e}function U(){return C(/android/i)}function V(){return C(/iPad|iPod|iPhone|iOS/i)}function z(e){return"undefined"===Z(e)}function j(e){return"null"===Z(e)}function q(e){return"NaN"===parseInt(e,10).toString()}function H(e){return"boolean"===Z(e)}function J(e){return"function"===Z(e)}function K(e){return"string"===Z(e)}function $(e){return"object"===Z(e)}function W(e){return"number"===Z(e)}function Q(e){return"array"===Z(e)}function G(e){return!!e&&!J(e)&&(Q(e)||W(e.length))}function Y(e){return"event"===Z(e)}function Z(e){return Object.prototype.toString.call(e).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function X(e){for(var t in e)return!1;return!0}function ee(e){var t,n;if(!$(e))return e;for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];for(var i=0,u=o.length;i<u;i++){t=o[i];for(n in t)hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}var te,ne="AlipayJSBridge",re=e[ne],oe=navigator.userAgent||navigator.swuserAgent,ae=[],ie={getBAPSI:{isListening:!1,lastState:2,on:function(){ie.getBAPSI.isListening||(re.call("startMonitorBackgroundAudio"),ie.getBAPSI.isListening=!0,ce.on("getBackgroundAudioPlayedStateInfo",ie.getBAPSI.listener))},off:function(){ce.off("getBackgroundAudioPlayedStateInfo",ie.getBAPSI.listener),re.call("stopMonitorBackgroundAudio"),ie.getBAPSI.isListening=!1},listener:function(e){var t,n=(e.data||{}).status;switch(n){case 0:t="backgroundAudioPause";break;case 1:t="backgroundAudioPlay";break;case 2:t="backgroundAudioStop";break;default:t=void 0}t&&n!==ie.getBAPSI.lastState&&(ce.trigger(t),ie.getBAPSI.lastState=n)}}},ue={fetchCDP:{m:"getCdpSpaceInfo"},feedbackCDP:{m:"cdpFeedback"},snapshot:{},saveBizServiceResult:{e:{caniuse:{_minv:"10.0.18"}}},setStorage:{m:"setAPDataStorage",b:function(e){var t=r();return A(e,{data:"value",bizType:"business"}),e.value=k({APDataStorage:e.value}),e.key=k(e.key),e.type=z(e.type)?"user":e.type,z(e.business)&&t&&(e.business=t),e}},getStorage:{m:"getAPDataStorage",b:function(e){var t=r();return A(e,{_:"key",bizType:"business"}),e.key=k(e.key),e.type=z(e.type)?"user":e.type,z(e.business)&&t&&(e.business=t),e},a:function(e){if(11===e.error&&(e.data=null,delete e.error,delete e.errorMessage,delete e.success),M(e,"data")){var t=N(e.data);e.data=$(t)?t.APDataStorage:t}return e}},removeStorage:{m:"removeAPDataStorage",b:function(e){var t=r();return A(e,{_:"key",bizType:"business"}),e.key=k(e.key),e.type=z(e.type)?"user":e.type,z(e.business)&&t&&(e.business=t),e}},clearStorage:{m:"clearAPDataStorage",b:function(e){var t=r();return A(e,{bizType:"business"}),e.type=z(e.type)?"user":e.type,z(e.business)&&t&&(e.business=t),e},e:{caniuse:{_minv:"10.0.8"}}},getSystemInfoSync:{d:function(e){return!0!==e.clearCache&&ie.getSystemInfoSync||(ie.getSystemInfoSync=ce.callSync("getSystemInfo",e)),ie.getSystemInfoSync},e:{caniuse:{_minv:"10.0.15"}}},setStorageSync:{d:function(e){return ce.callSync("setStorage",e)},e:{caniuse:{_minv:"10.0.15"}}},getStorageSync:{d:function(e){return ce.callSync("getStorage",e)},e:{caniuse:{_minv:"10.0.15"}}},removeStorageSync:{d:function(e){return ce.callSync("removeStorage",e)},e:{caniuse:{_minv:"10.0.15"}}},clearStorageSync:{d:function(e){return ce.callSync("clearStorage",e)},e:{caniuse:{_minv:"10.0.15"}}},httpRequest:{b:function(e){if(e.method=F(e.method)||"GET",e.dataType=O(e.dataType)||"json",A(e,{_:"url",dataType:"responseType"}),$(e.data)&&(e.data=R(e.data)),"GET"===e.method&&K(e.data)&&(e.url=x(e.url,e.data)),e.responseType="base64"!==O(e.responseType)?"text":"base64",e.headers=e.headers||{},U()){var t=[],n=void 0;for(var r in e.headers)M(e.headers,r)&&((n={})[r]=e.headers[r],t.push(n));e.headers=t}return e},a:function(e,t,n){if(n.dataType=O(n.dataType)||"json","json"===n.dataType&&e.data&&(e.data=N(e.data)),"base64"===n.dataType&&e.data&&e.headers&&(e.data=E(e.data,e.headers["Content-Type"])),!z(e.status)){var r=e.status+"";/^[45]/.test(r)&&(e.error=19,e.errorMessage="http status error")}return e}},startApp:{b:function(e){return A(e,{_:"appId",params:"param"})}},setClipboard:{b:function(e){return A(e,{_:"content",content:"text"})}},getClipboard:{a:function(e){return A(e,{text:"content"}),delete e.text,e}},getUserInfo:{a:function(e){return A(e,{iconUrl:"avatar"})}},getConfig:{b:function(e){return A(e,{_:"configKeys",keys:"configKeys"}),K(e.configKeys)&&(e.configKeys=[e.configKeys]),L(e.configKeys,function(t,n){"mgw"===n&&(e.configKeys[t]="rpcUrl")}),e},a:function(e){return e.data&&(M(e.data,"rpcUrl")&&(e.data.mgw=e.data.rpcUrl,delete e.data.rpcUrl),L(e.data,function(t,n){e[t]=n}),delete e.data),e}},remoteLog:{},isSupportShortCut:{a:function(e){return A(e,{result:"isSupport"})},e:{caniuse:{_onlyAndroid:!0}}},setShortCut:{b:function(e){return A(e,{title:"appName",icon:"iconBitmap"})},e:{caniuse:{_onlyAndroid:!0}}},removeShortCut:{b:function(e){return A(e,{title:"appName",icon:"iconBitmap"})},e:{caniuse:{_onlyAndroid:!0}}},exitApp:{},login:{},sendSMS:{a:function(e){if(e.status){switch(e.status){case"Success":e={};break;case"Failed":e.error=21,e.errorMessage="发送失败";break;case"Canceled":e.error=22,e.errorMessage="用户取消发送"}delete e.status}return e}},getAllContacts:{a:function(e){var t=[];return e&&!M(e,"error")&&(L(e,function(e,n){t.push({mobile:e,name:n})}),e={contacts:t}),e}},setScreenBrightness:{b:function(e){return A(e,{_:"brightness"})}},getScreenBrightness:{},isInstalledApp:{b:function(e){return A(e,{packageName:"packagename"})},a:function(e){return A(e,{installed:"isInstalled"})}},preRender:{b:function(e){return A(e,{_:"url"}),$(e.windowParams)||(e.windowParams={}),e.url&&z(e.windowParams.url)&&(e.windowParams.url=e.url),delete e.url,e.params&&z(e.windowParams.param)&&(e.windowParams.param=e.params),delete e.params,e.windowParams.url.indexOf("?")>-1&&console.warn("如需在 url 上携带数据，请使用 data 参数"),e.windowParams.url.indexOf("__webview_options__")>-1&&console.warn("如需指定启动参数，请使用 params 参数"),$(e.data)&&(e.windowParams.url=x(e.windowParams.url,e.data),delete e.data),e}},clearRender:{b:function(e){return $(e.range)||(e.range={}),e.start&&z(e.range.location)&&(e.range.location=e.start),delete e.start,e.length&&z(e.range.length)&&(e.range.length=e.length),delete e.length,e}},finishRender:{},rpc:{b:function(e){return A(e,{_:"operationType"}),e.requestData&&!Q(e.requestData)&&$(e.requestData)&&!M(e,"type")&&(e.requestData=[e.requestData]),e},e:{handleResultSuccess:!1}},openBluetoothAdapter:{e:{caniuse:{_minv:"10.0.15"}}},closeBluetoothAdapter:{e:{caniuse:{_minv:"10.0.15"}}},getBluetoothAdapterState:{e:{caniuse:{_minv:"10.0.15"}}},startBluetoothDevicesDiscovery:{b:function(e){return K(e._)&&(e._=[e._]),A(e,{_:"services"}),e},e:{caniuse:{_minv:"10.0.15"}}},stopBluetoothDevicesDiscovery:{e:{caniuse:{_minv:"10.0.15"}}},getBluetoothDevices:{b:function(e){return K(e._)&&(e._=[e._]),A(e,{_:"services"}),e},a:function(e){return Q(e.devices)&&L(e.devices,function(e,t){A(t,{manufacturerData:"advertisData"})}),e},e:{caniuse:{_minv:"10.0.15"}}},getConnectedBluetoothDevices:{a:function(e){return Q(e.devices)&&L(e.devices,function(e,t){A(t,{manufacturerData:"advertisData"})}),e},e:{caniuse:{_minv:"10.0.15"}}},connectBLEDevice:{b:function(e){return A(e,{_:"deviceId"}),e},e:{caniuse:{_minv:"10.0.15"}}},disconnectBLEDevice:{e:{caniuse:{_minv:"10.0.15"}}},writeBLECharacteristicValue:{e:{caniuse:{_minv:"10.0.15"}}},readBLECharacteristicValue:{e:{caniuse:{_minv:"10.0.15"}}},notifyBLECharacteristicValueChange:{e:{caniuse:{_minv:"10.0.15"}}},getBLEDeviceServices:{b:function(e){return A(e,{_:"deviceId"}),e},e:{caniuse:{_minv:"10.0.15"}}},getBLEDeviceCharacteristics:{e:{caniuse:{_minv:"10.0.15"}}},onBLECharacteristicValueChange:{m:"BLECharacteristicValueChange",e:{caniuse:{_minv:"10.0.15"}}},offBLECharacteristicValueChange:{m:"BLECharacteristicValueChange"},onBluetoothAdapterStateChange:{e:{caniuse:{_minv:"10.0.15"}}},offBluetoothAdapterStateChange:{},onBLEConnectionStateChanged:{m:"BLEConnectionStateChanged",e:{caniuse:{_minv:"10.0.15"}}},offBLEConnectionStateChanged:{m:"BLEConnectionStateChanged"},onBluetoothDeviceFound:{a:function(e){return A(e,{manufacturerData:"advertisData"})},e:{caniuse:{_minv:"10.0.15"}}},offBluetoothDeviceFound:{},pushBizWindow:{},compressImage:{b:function(e){return e.level=z(e.level)?4:e.level,A(e,{_:"apFilePaths",level:"compressLevel%d"})},d:function(e,t){U()?re.call("compressImage",e,t):o(t,{apFilePaths:e.apFilePaths||[]})},e:{caniuse:{_minv:"10.0.12"}}},getLaunchParams:{d:function(e,t){ce.launchParams=window.ALIPAYH5STARTUPPARAMS||re.startupParams||{},J(t)&&t(ce.launchParams)}},openAPDeviceLib:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},closeAPDeviceLib:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},configAPDeviceLib:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},getAPDeviceInfos:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},sendDataToAPDevice:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},startScanAPDevice:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},stopScanAPDevice:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},connectAPDevice:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},disconnectAPDevice:{a:function(e){return $(e.result)&&(e.status=e.result.status,delete e.result),e}},onAPDeviceStateChange:{m:"onAPDeviceStateChange",a:function(e){var t={};return A(t,{deviceId:"deviceId",state:"state",connType:"connType"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceStateChange:{m:"onAPDeviceStateChange"},onReceiveDataFromAPDevice:{m:"onReceiveDataFromAPDevice",a:function(e){var t={};return A(t,{deviceId:"deviceId",data:"data",characteristicUUID:"characteristicUUID"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offReceiveDataFromAPDevice:{m:"onReceiveDataFromAPDevice"},onScanAPDeviceResult:{m:"onScanAPDeviceResult",a:function(e){var t={};return A(t,{deviceName:"deviceName",localName:"localName",RSSI:"RSSI",txPower:"txPower",serviceUUIDs:"serviceUUIDs",macAddr:"macAddr",uuid:"uuid",deviceId:"deviceId",manufacturerData:"manufacturerData"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offScanAPDeviceResult:{m:"onScanAPDeviceResult"},onAPDeviceBluetoothStateChange:{m:"onAPDeviceBluetoothStateChange",a:function(e){var t={};return A(t,{state:"state"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceBluetoothStateChange:{m:"onAPDeviceBluetoothStateChange"},onAPDeviceError:{m:"onAPDeviceError",a:function(e){var t={};return A(t,{deviceId:"deviceId",status:"status",errorReason:"errorReason"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceError:{m:"onAPDeviceError"},onSendDataToAPDevice:{m:"onSendDataToAPDevice",a:function(e){var t={};return A(t,{deviceId:"deviceId",characteristicUUID:"characteristicUUID"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offSendDataToAPDevice:{m:"onSendDataToAPDevice"},onTabClick:{},offTabClick:{},onShare:{m:"onShare",e:{caniuse:{_minv:"10.0.8"}}},offShare:{m:"onShare"},connectSocket:{b:function(e){return A(e,{headers:"header"})},e:{caniuse:{_minv:"10.0.8"}}},sendSocketMessage:{b:function(e){return A(e,{_:"data"})},e:{caniuse:{_minv:"10.0.8"}}},closeSocket:{e:{caniuse:{_minv:"10.0.8"}}},onSocketOpen:{e:{caniuse:{_minv:"10.0.8"}}},offSocketOpen:{},onSocketMessage:{e:{caniuse:{_minv:"10.0.8"}}},offSocketMessage:{},onSocketError:{e:{caniuse:{_minv:"10.0.8"}}},offSocketError:{},onSocketClose:{e:{caniuse:{_minv:"10.0.8"}}},offSocketClose:{},alert:{b:function(e){return e=A(e,{_:"content",content:"message%s",buttonText:"button%s"}),z(e.title)||(e.title=P("%s",e.title)),e}},confirm:{b:function(e){return e=A(e,{_:"content%s",content:"message%s",confirmButtonText:"okButton%s",cancelButtonText:"cancelButton%s"}),z(e.title)||(e.title=P("%s",e.title)),e},a:function(e){return A(e,{ok:"confirm"})}},showToast:{m:"toast",b:function(e){return A(e,{_:"content%s"}),K(e.content)||(e.content=P("%s",e.content)),e}},hideToast:{},showLoading:{b:function(e){return A(e,{_:"content",content:"text%s"})}},hideLoading:{},showNavigationBarLoading:{m:"showTitleLoading"},hideNavigationBarLoading:{m:"hideTitleLoading"},setNavigationBar:{b:function(e){var t="setTitle",n="setTitleColor",r="setBarBottomLineColor",o={};return o[t]={},o[n]={},o[r]={},o[t]=A(o[t],{_:"title",title:"title%s",image:"image%b"},e),o[n]=A(o[n],{backgroundColor:"color%c",reset:"reset"},e),o[r]=A(o[r],{borderBottomColor:"color%c"},e),o},d:function(e,t){var n="setTitle",r="setTitleColor",a="setBarBottomLineColor",i={};X(e[n])||re.call(n,e[n]),X(e[a])||(re.call(a,e[a]),q(e[a].color)&&(i.error=2,i.errorMessage="颜色值不合法")),X(e[r])?o(t,i):re.call(r,e[r],function(e){i=ee(e,i),t(i)})}},showTabBar:{b:function(e){if(e.action="create",e.activeIndex=e.activeIndex||0,A(e,{color:"textColor%c",activeColor:"selectedColor%c",activeIndex:"selectedIndex%d"}),Q(e.items)){var t=e.items;e.items=[],t.forEach(function(t,n){t=A(ee({},t),{title:"name%s",tag:"tag%s",icon:"icon%b",activeIcon:"activeIcon%b",badge:"redDot%s"},{tag:n,title:t.title,icon:t.icon,activeIcon:t.activeIcon,badge:z(t.badge)?"-1":t.badge}),e.items.push(t)})}return e},d:function(e,t,n){z(ie.showTabBar)?ie.showTabBar={opt:n}:console.error("showTabBar 只能调用一次"),ce.on("tabClick",function(e){var n={};A(n,{tag:"index%d"},{tag:$(e.data)&&e.data.tag?e.data.tag:"0"}),t(n)}),re.call("tabBar",e,function(e){b("showTabBar",e)})}},setTabBarBadge:{m:"tabBar",b:function(e){return e.action="redDot",A(e,{index:"tag%s",badge:"redDot%s"},{index:e.index}),e}},showActionSheet:{m:"actionSheet",b:function(e){if(A(e,{items:"btns",cancelButtonText:"cancelBtn%s"}),Q(e.btns)){var t=e.btns;e.btns=[],t.forEach(function(t){return e.btns.push(t+"")})}return z(e.cancelBtn)&&(e.cancelBtn="取消"),e},a:function(e,t){return Q(t.btns)&&e.index===t.btns.length&&(e.index=-1),e}},redirectTo:{b:function(e){return A(e,{_:"url"}),$(e.data)&&(e.url=x(e.url,e.data)),e},d:function(e){e.url&&window.location.replace(e.url)}},pushWindow:{b:function(e){return A(e,{_:"url",params:"param"}),e.url.indexOf("?")>-1&&console.warn("如需在 url 上携带数据，请使用 data 参数"),e.url.indexOf("__webview_options__")>-1&&console.warn("如需指定启动参数，请使用 params 参数"),$(e.data)&&(e.url=x(e.url,e.data),delete e.data),e}},popWindow:{b:function(e){return e=i(e),$(e.data)||(e.data={___forResume___:e.data}),e}},popTo:{b:function(e){return A(e,{_:function(){var t=void 0;return W(e._)&&(t="index"),K(e._)&&(t="urlPattern"),t}()}),$(e.data)||(e.data={___forResume___:e.data}),e}},allowPullDownRefresh:{d:function(e){var t="onPullDownRefresh";A(e,{_:"allow"}),e.allow=!!z(e.allow)||!!e.allow,$(ie[t])?ie[t].allow=e.allow:(ie[t]={allow:e.allow},ce.onPullDownRefresh()),ie[t].allow?re.call("restorePullToRefresh"):ie[t].event&&ie[t].event.preventDefault()}},choosePhoneContact:{m:"contact"},chooseAlipayContact:{m:"chooseContact",b:function(e){return A(e,{_:"count"}),z(e.count)&&(e.count=1),1===e.count?e.type="single":(e.type="multi",e.count<=0||e.count>10?e.multiMax=10:e.multiMax=e.count),delete e.count,e},a:function(e){return Q(e.contacts)&&e.contacts.forEach(function(e){A(e,{headImageUrl:"avatar",name:"realName"}),delete e.from}),e}},share:{b:function(e){var t={},n={};return t.onlySelectChannel=["ALPContact","ALPTimeLine","ALPCommunity","Weibo","DingTalkSession","SMS","Weixin","WeixinTimeLine","QQ","QQZone"],M(e,"bizType")&&(t.bizType=e.bizType),n=ee({},e),delete n.bizType,delete n.onlySelectChannel,A(n,{image:"imageUrl"}),ie.share={startShare:t,shareToChannel:n},e},d:function(e,t){!1===e.showToolBar&&re.call("setToolbarMenu",{menus:[],override:!0}),re.call("startShare",ie.share.startShare,function(e){var n=ie.share.shareToChannel;e.channelName?re.call("shareToChannel",{name:e.channelName,param:n},t):t(e)})}},datePicker:{b:function(e){switch(A(e,{_:"formate",formate:"mode",currentDate:"beginDate",startDate:"minDate",endDate:"maxDate"}),e.mode){case"HH:mm:ss":e.mode=0;break;case"yyyy-MM-dd":e.mode=1;break;case"yyyy-MM-dd HH:mm:ss":e.mode=2;break;default:e.mode=1}return e},a:function(e){return K(e.date)&&(e.date=e.date.replace(/\//g,"-").trim()),e}},chooseCity:{m:"getCities",b:function(e){function t(e){var t;return Q(e)&&(t=[],e.forEach(function(e){t.push(A({},{city:"name",adCode:"adcode%s",spell:"pinyin"},e))}),e=t),e}var n,r;return A(e,{showHotCities:"needHotCity",cities:"customCities",hotCities:"customHotCities"}),!0===e.showLocatedCity?(e.currentCity="",e.adcode=""):(delete e.currentCity,delete e.adcode),delete e.showLocatedCity,n=e.customCities,z(e.customCities)||(e.customCities=t(n)),r=e.customHotCities,z(e.customHotCities)||(e.customHotCities=t(r)),e},a:function(e){return A(e,{adcode:"adCode"}),e}},onBack:{a:function(e){var t={};return $(ie.onBack)?ie.onBack.event=e:ie.onBack={event:e,allowButton:!0},!1===ie.onBack.allowButton&&e.preventDefault(),t.backAvailable=ie.onBack.allowButton,t},e:{handleEventData:!1}},offBack:{},onResume:{a:function(e){var t={};return z(e.data)||(t.data=e.data),M(t,"___forResume___")&&(t.data=t.___forResume___),t},e:{handleEventData:!1}},offResume:{},onPause:{},offPause:{},onPageResume:{a:function(e){var t={};return z(e.data)||(t.data=e.data),M(t,"___forResume___")&&(t.data=t.___forResume___),t},e:{handleEventData:!1}},offPageResume:{},onPagePause:{},offPagePause:{},onTitleClick:{},offTitleClick:{},onPullDownRefresh:{m:"firePullToRefresh",a:function(e){var t={},n="onPullDownRefresh";return $(ie[n])?ie[n].event=e:ie[n]={event:e,allow:!0},!1===ie[n].allow&&ie[n].event.preventDefault(),t.refreshAvailable=ie[n].allow,t},e:{handleEventData:!1}},offPullDownRefresh:{m:"firePullToRefresh"},onNetworkChange:{d:function(e,t,n,r){var o=function(){return ce.getNetworkType(t)};c("h5NetworkChange",r,o),ce.on("h5NetworkChange",o)}},offNetworkChange:{d:function(e,t,n,r){s("h5NetworkChange",r)}},onAccelerometerChange:{b:function(){re.call("watchShake",{monitorAccelerometer:!0})},a:function(e){var t={};return A(t,{x:"x",y:"y",z:"z"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offAccelerometerChange:{b:function(){re.call("watchShake",{monitorAccelerometer:!1})}},onCompassChange:{b:function(){re.call("watchShake",{monitorCompass:!0})},a:function(e){var t={};return A(t,{direction:"direction"},$(e.data)?e.data:e),t},e:{handleEventData:!1}},offCompassChange:{b:function(){re.call("watchShake",{monitorCompass:!1})}},onBackgroundAudioPlay:{b:function(e){return ie.getBAPSI.on(),e}},offBackgroundAudioPlay:{},onBackgroundAudioPause:{b:function(e){return ie.getBAPSI.on(),e}},offBackgroundAudioPause:{},onBackgroundAudioStop:{b:function(e){return ie.getBAPSI.on(),e}},offBackgroundAudioStop:{},onAppResume:{},offAppResume:{},onAppPause:{},offAppPause:{},getNetworkType:{a:function(e){return z(e.networkInfo)||(e.networkType=F(e.networkInfo)),delete e.err_msg,delete e.networkInfo,e}},scan:{b:function(e){return A(e,{_:"type"}),e.type=e.type||"qr",e},a:function(e){return(e.qrCode||e.barCode)&&(e.code=e.qrCode||e.barCode,delete e.qrCode,delete e.barCode),e}},watchShake:{b:function(e){return X(e)&&(e=null),e}},getLocation:{b:function(e){return A(e,{accuracy:"horizontalAccuracy",type:"requestType%d"}),z(e.requestType)&&(e.requestType=2),U()&&(z(e.isHighAccuracy)&&(e.isHighAccuracy=!0),z(e.isNeedSpeed)&&(e.isNeedSpeed=!0)),e},a:function(e){return A(e,{citycode:"cityCode",adcode:"adCode"}),z(e.city)&&e.province&&(e.city=e.province),e.latitude&&(e.latitude=P("%s",e.latitude)),e.longitude&&(e.longitude=P("%s",e.longitude)),e.accuracy&&(e.accuracy=P("%f",e.accuracy)),e.speed&&(e.speed=P("%f",e.speed)),e}},getSystemInfo:{a:function(e){if(!M(e,"error")){e.pixelRatio=P("%f",e.pixelRatio),e.windowWidth=P("%d",e.windowWidth),e.language=(e.language||"").replace(/\s?\w+\/((?:\w|-)+)$/,"$1"),e.windowHeight=P("%d",e.windowHeight);try{V()&&ce.compareVersion("10.0.12")<0&&(e.windowHeight=window.screen.height-64)}catch(e){}}return e}},vibrate:{},getServerTime:{},previewImage:{m:"imageViewer",b:function(e){return A(e,{_:"urls",current:"init%d"}),z(e.init)&&(e.init=0),e.images=[],(e.urls||[]).forEach(function(t){e.images.push({u:t})}),delete e.urls,e}},chooseImage:{b:function(e){return A(e,{_:"count%d"}),z(e.count)&&(e.count=1),K(e.sourceType)&&(e.sourceType=[e.sourceType]),e},a:function(e){return A(e,{errorCode:"error",errorDesc:"errorMessage",localIds:"apFilePaths",tempFilePaths:"apFilePaths"}),delete e.scene,delete e.localIds,delete e.tempFilePaths,K(e.apFilePaths)&&(e.apFilePaths=N(e.apFilePaths)),e}},chooseVideo:{b:function(e){return A(e,{_:"maxDuration%d"}),K(e.sourceType)&&(e.sourceType=[e.sourceType]),K(e.camera)&&(e.camera=[e.camera]),e},a:function(e){switch(A(e,{errorCode:"error",errorDesc:"errorMessage",msg:"errorMessage",localId:"apFilePath",tempFilePath:"apFilePath",tempFile:"apFilePath"}),delete e.localId,delete e.tempFilePath,delete e.tempFile,e.error){case 0:delete e.error;break;case 1:e.error=2;break;case 2:e.error=10;break;case 3:e.error=11;break;case 4:e.error=12}return e}},uploadFile:{b:function(e){return A(e,{headers:"header",fileName:"name",fileType:"type"}),a(e.filePath)&&(e.localId=e.filePath,delete e.filePath),e},a:function(e){return 2===e.error&&(e.error=11),e}},saveImage:{b:function(e,t){return A(e,{_:"url",url:"src"}),J(t)&&(e.cusHandleResult=!0),e}},downloadFile:{b:function(e){return A(e,{headers:"header"}),e},a:function(e){return A(e,{tempFilePath:"apFilePath",errorCode:"error"}),delete e.tempFilePath,e}},setSessionData:{b:function(e){return e=i(e),$(e.data)||(e.data={data:e.data}),L(e.data,function(t,n){e.data[t]=JSON.stringify(n)}),e}},getSessionData:{b:function(e){return K(e._)&&(e.keys=[e._]),Q(e._)&&(e.keys=e._),delete e._,e},a:function(e){return L(e.data,function(t,n){e.data[t]=N(n)}),e}},startBizService:{b:function(e){return A(e,{_:"name",params:"param%s"}),e}},tradePay:{b:function(e){return A(e,{_:"orderStr"}),e}},getAuthCode:{b:function(e){return A(e,{_:"scopes"}),K(e.scopes)?e.scopeNicks=[e.scopes]:Q(e.scopes)?e.scopeNicks=e.scopes:e.scopeNicks=["auth_base"],delete e.scopes,e},a:function(e){return A(e,{authcode:"authCode"}),e}},getAuthUserInfo:{a:function(e){return A(e,{nick:"nickName",userAvatar:"avatar"}),e}},openInBrowser:{b:function(e){return A(e,{_:"url"})}},openLocation:{b:function(e){return z(e.scale)&&(e.scale=15),e}},showPopMenu:{b:function(e){if(A(e,{_:"items",items:"menus"}),$(ie.showPopMenu)?ie.showPopMenu.menus={}:ie.showPopMenu={menus:{}},Q(e.menus)){var t=e.menus;e.menus=[],t.forEach(function(t,n){K(t)&&(t={title:t}),z((t=A(ee({},t),{title:"name%s",tag:"tag%s",badge:"redDot%s"},{tag:n,title:t.title,badge:z(t.badge)?"-1":t.badge})).icon)||(t.icon=P("%b",t.icon)),e.menus.push(t),ie.showPopMenu.menus[t.name]=n})}return e},d:function(e,t){!0!==ie.showPopMenu.onEvent&&(ie.showPopMenu.onEvent=!0,ce.on("popMenuClick",function(e){var n={};A(n,{title:"index%d"},{title:$(e.data)&&e.data.title?ie.showPopMenu.menus[e.data.title]:"-1"}),t(n)})),re.call("showPopMenu",e,function(e){b("showPopMenu",e)})}},setOptionButton:{m:"setOptionMenu",b:function(e){if(K(e._)&&(e.title=e._,delete e._),Q(e._)&&(e.items=e._,delete e._),A(e,{items:"menus",type:"iconType",badge:"redDot%s"}),z(e.icon)||(e.icon=P("%b",e.icon)),$(ie.setOptionButton)?ie.setOptionButton.menus=[]:ie.setOptionButton={menus:[]},Q(e.menus)){var t=e.menus;e.menus=[],t.forEach(function(n,r){z((n=A(ee({},n),{type:"icontype",badge:"redDot%s"},{badge:z(n.badge)?"-1":n.badge})).icon)||(n.icon=P("%b",n.icon)),e.menus.unshift(n),ie.setOptionButton.menus[t.length-1-r]=r}),e.menus.length>0&&z(e.override)&&(e.override=!0)}if(J(ie.setOptionButton.onEvent)&&ce.off("optionMenu",ie.setOptionButton.onEvent),J(e.onClick)){var n=e.onClick,r=function(e){var t=0,r={};$(e.data)&&W(e.data.index)&&ie.setOptionButton.menus.length>0&&(t=ie.setOptionButton.menus[e.data.index]),r.index=P("%d",t),n(r)};ie.setOptionButton.onEvent=r,!0!==e.reset&&ce.on("optionMenu",r),delete e.onClick}return e},d:function(e,t){re.call("setOptionMenu",e,t),V()&&o(t,{}),ce.showOptionButton()}},showOptionButton:{m:"showOptionMenu"},hideOptionButton:{m:"hideOptionMenu"},showBackButton:{},hideBackButton:{},allowBack:{d:function(e){A(e,{_:"allowButton"}),e.allowButton=!!z(e.allowButton)||!!e.allowButton,H(e.allowGesture)&&re.call("setGestureBack",{val:e.allowGesture}),$(ie.onBack)?ie.onBack.allowButton=e.allowButton:(ie.onBack={allowButton:e.allowButton},ce.onBack()),!1===e.allowButton&&ie.onBack.event&&ie.onBack.event.preventDefault()}},startRecord:{m:"startAudioRecord",b:function(e){return A(e,{maxDuration:"maxRecordTime%f",minDuration:"minRecordTime%f",bizType:"business"},{maxDuration:e.maxDuration||60,minDuration:e.minDuration||1}),z(e.business)&&(e.business="apm-h5"),e},a:function(e){return A(e,{tempFilePath:"apFilePath",identifier:"apFilePath"}),e}},stopRecord:{m:"stopAudioRecord"},cancelRecord:{m:"cancelAudioRecord"},playVoice:{m:"startPlayAudio",b:function(e){return A(e,{_:"filePath",filePath:"identifier",bizType:"business"}),z(e.business)&&(e.business="apm-h5"),e},a:function(e){return A(e,{identifier:"filePath"}),e}},pauseVoice:{m:"pauseAudioPlay"},resumeVoice:{m:"resumeAudioPlay"},stopVoice:{m:"stopAudioPlay"},makePhoneCall:{d:function(e,t){var n="tel:";A(e,{_:"number"}),n+=e.number,re.call("openInBrowser",{url:n},t)}},playBackgroundAudio:{b:function(e){return A(e,{_:"url",url:"audioDataUrl%s",title:"audioName%s",singer:"singerName%s",describe:"audioDescribe%s",logo:"audioLogoUrl%s",cover:"coverImgUrl%s",bizType:"business"},{bizType:e.bizType||"apm-h5"}),e},a:function(e){return A(e,{describe:"errorMessage"}),_(e,12,0),e}},pauseBackgroundAudio:{a:function(e){return A(e,{describe:"errorMessage"}),_(e,12,0),e}},stopBackgroundAudio:{a:function(e){return A(e,{describe:"errorMessage"}),_(e,12,0),e}},seekBackgroundAudio:{b:function(e){return A(e,{_:"position",bizType:"business"},{bizType:e.bizType||"apm-h5"}),e.position=P("%f",e.position),e},a:function(e){return A(e,{describe:"errorMessage"}),_(e,12,0),e}},getBackgroundAudioPlayerState:{a:function(e){return A(e,{audioDataUrl:"url",describe:"errorMessage"}),_(e,12,0),e}}},ce={version:"3.0.6",ua:oe,isAlipay:C(/AlipayClient/),alipayVersion:function(){var e=oe.match(/AlipayClient[a-zA-Z]*\/(\d+(?:\.\d+)+)/);return e&&e.length?e[1]:""}(),compareVersion:function(e){var t=ce.alipayVersion.split(".");e=e.split(".");for(var n,r,o=0;o<t.length;o++){if(n=parseInt(e[o],10)||0,r=parseInt(t[o],10)||0,n>r)return-1;if(n<r)return 1}return 0},parseQueryString:function(e){var t,n={},r=e||window.location.search,o={true:!0,false:!1};r=(r=0===r.indexOf("?")?r.substr(1):r)?r.split("&"):"";for(var a=0;a<r.length;a++)(t=r[a].split("="))[1]=decodeURIComponent(t[1]),t[1]=z(o[t[1]])?t[1]:o[t[1]],n[t[0]]=t[1];return se("parseQueryString"),n},enableDebug:function(){ce.debug=!0},on:function(e,t){(e=e.replace(/ready/,ne+"Ready")).split(/\s+/g).forEach(function(e){document.addEventListener(e,t,!1)})},off:function(e,t){document.removeEventListener(e,t,!1)},trigger:function(e,t){var n=document.createEvent("Events");return n.initEvent(e,!1,!0),n.data=t||{},document.dispatchEvent(n),n},ready:function(e){function n(n){t()?(J(e)&&e(),J(n)&&n()):ce.on("ready",function(){t(),J(e)&&e(),J(n)&&n()})}if(D())return new Promise(n);n()},localLog:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(e,t){n[t]=k(e)}),V()&&ce.ready(function(){re.call("H5APLog",{content:n.join("  ")})}),(e=console).log.apply(e,n),se("localLog")},call:function(){function e(e,t){var n,o,a,i,u,f,_,S,P,A;n=r[0]+"",o=r[1],z(a=r[2])&&J(o)&&(a=o,o={}),!$(o)&&r.length>=2&&(o={_:o}),z(o)&&(o={}),i=m(n,o,a),u=v(0,i),z(i)&&console.error("please confirm "+n+".before() returns the options."),P=g(n),A=M(o,"_")?o._:o,B(n,A,i),_=l(n),S=d(n),f=function(r){var c=void 0;r=r||{},_&&!1!==p(n,"handleEventData")&&(c=w(r)),z(c=y(n,c||r,i,o,a))&&console.error("please confirm "+n+".after() returns the result."),c=b(n,c),B(n,A,i,r,c),M(c,"error")||M(c,"errorMessage")?(J(t)&&t(c),J(u.fail)&&u.fail(c)):(J(e)&&e(c),J(u.success)&&u.success(c)),J(u.complete)&&u.complete(c),J(a)&&a(c)},J(P)?P(i,f,o,a):_?(c(_,a,f,u),ce.on(_,f)):S?s(S,a):re.call(h(n),i,f),se(n)}for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(D())return ce.ready().then(function(){return new Promise(e)});t()?e():ae.push(r)},callSync:function(){var e,t,n,r,o;if(e=(arguments.length<=0?void 0:arguments[0])+"",t=arguments.length<=1?void 0:arguments[1],!$(t)&&arguments.length>=2&&(t={_:t}),z(t)&&(t={}),n=m(e,t),z(n)&&console.error("please return the options from "+e+".before()"),r=g(e),o=M(t,"_")?t._:t,B(e,o,n),J(r))return r(n,t);if(re&&re.callSync){var a=re.callSync(h(e),n);if($(a)&&!j(a)){var i=y(e,a,n,t);return z(i)&&console.error("please return the result from "+e+".after()"),i=b(e,i),B(e,o,n,a,i),i}return B(e,o,n,a),a}var u="please invoke sync api after AlipayJSBridgeReady.";re&&!re.callSync&&(u="AlipayJSBridge.callSync is undefined，please run "+e+" in service worker"),console.error(u),se(e)},canIUse:function(){function e(e,n){var r=null;return $(e)&&M(e,n)&&(r=t(e[n])),Q(e)&&L(e,function(e,o){$(o)&&M(o,n)&&(r=t(o[n])),K(o)&&o===n&&(r=t(o))}),r}function t(e){return(e={_value:e,_minv:n(e),_maxv:r(e)})._value&&e._value._onlyIOS&&(e._onlyIOS=!0),e._value&&e._value._onlyAndroid&&(e._onlyAndroid=!0),e}function n(e){return(e=e||{})._minv||"0"}function r(e){return(e=e||{})._maxv||"10000"}function o(e){var t=n(e),o=r(e);return ce.compareVersion(t)>=0&&ce.compareVersion(o)<=0}function a(e){var t=!0;return(e=e||{})._onlyIOS&&!V()&&(t=!1),e._onlyAndroid&&!U()&&(t=!1),t}return function(t){var n=!1,r=!1,i=void 0,u=void 0,c=void 0;if(t&&K(t)){c=p(i=(t=t.split("."))[0],"caniuse"),ue[i]?(u={})[i]=c:u=null;for(var s,l=0;l<t.length;l++){if(!((s=e(u,t[l]))&&o(s)&&a(s))){r=!1;break}r=!0,u=s._value}n=r}return n}}(),extendJSAPI:function(){function e(e,t){K(e)&&(e=[e]),L(e,function(r){var o=r;if(!0!==t){var a=e[o];J(a)&&(a={doing:a}),K(a)&&(o=a,(a={})[o]={}),ue[o]=A(ue[o]||{},{mapping:"m",before:"b",doing:"d",after:"a"},a),$(a.extra)&&(ue[o].e=ue[o].e||{},ue[o].e=ee(ue[o].e,a.extra))}n(o)?ce[o]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ce.callSync.apply(null,[o].concat(t))}:ce[o]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ce.call.apply(null,[o].concat(t))}})}return e.mapping=A,e.toType=P,e}()};ce.isAlipay||console.warn("Run alipayjsapi.js in Alipay please!"),ce.extendJSAPI(ue,!0),ce.on("ready",function(){function e(){le(function(){var t=ae.shift();ce.call.apply(null,t),ae.length&&e()})}ae.length&&e()});var se=function(){function e(){setTimeout(function(){if(r.length>0){var e=r.join("|");ce.ready(function(){re.call("remoteLog",{type:"monitor",bizType:"ALIPAYJSAPI",logLevel:1,actionId:"MonitorReport",seedId:"ALIPAYJSAPI_INVOKE_COUNTER",param1:e})}),ce.debug&&console.info("REMOTE_LOG_QUEUE>",r),r=[]}n()},0)}function t(){a=!0,o=setTimeout(function(){e()},5e3)}function n(){!z(o)&&clearTimeout(o),a=!1}var r=[],o=void 0,a=!1;return ce.on("back",function(){e()}),function(n){r.push(n),r.length>=6?e():a||t()}}(),le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(function(){e(+new Date,t)},1e3/60)};e._AP=ce,"undefined"!=typeof module&&module.exports?module.exports=ce:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return ce}):e.ap=e.AP=ce}(self);